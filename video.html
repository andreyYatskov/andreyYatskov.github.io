<!DOCTYPE html>
<html>
  <head>
    <title>Parcel Sandbox</title>
    <meta charset="UTF-8" />
  </head>

  <body>
    <h2>Test page for Alpha</h2>
    <div style="background: lightblue; height: 1000px; padding: 5px">
      <div>
        <label for="widht">Width of apester unit element (min320):</label>
        <input type="number" id="input-width" name="widht" min="320" value="1000">
      </div>
       <div style="margin: 20px 0">
        <label for="input-video-width">Video width:</label>
        <input type="text" id="input-video-width" name="input-video-width" value="768">
        <label for="input-video-height">Video height:</label>
        <input type="text" id="input-video-height" name="input-video-height" value="490">
        <div style="margin: 10px 0 0">
          <label for="input-video-checkbox">Or use ratio:</label>
          <input type="checkbox" id="input-video-checkbox" name="input-video-checkbox" />
          <span style="padding-left=20px">
            <input type="text" id="input-video-width-ratio" name="input-video-width-ratio" value="16" style="width: 20px">
            /
            <input type="text" id="iinput-video-height-ratio" name="input-video-height-ratio" value="9" style="width: 20px">
          </span>  
        </div>
      </div>
      <button onclick="apply()">Apply</button>
      <div style="width: 1000px; background-color: green; min-height: 400px; margin-top: 20px" class="wrap">
        <div class="apester-media" data-media-id="6286216e86eec30026ea36ba"></div>
        <a href="http://www.w3.org/TR/1998/REC-DOM-Level-1-Attr" title="Permetatorem ipsum dolor sit amet, consectetur adipiscing elit. Excepteur sint, sunt in culpa qui officia deser">link</a>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Mi bibendum neque egestas congue quisque egestas diam in arcu. Commodo viverra maecenas accumsan lacus vel facilisis volutpat est. Est lorem ipsum dolor sit amet consectetur adipiscing elit. Vitae purus faucibus ornare suspendisse sed nisi. Amet luctus venenatis lectus magna fringilla urna porttitor rhoncus. Nisi vitae suscipit tellus mauris a diam maecenas sed. Vel elit scelerisque mauris pellentesque pulvinar. Pellentesque habitant morbi tristique senectus et. Leo a diam sollicitudin tempor id eu nisl nunc mi. Est pellentesque elit ullamcorper dignissim cras. Tellus cras adipiscing enim eu turpis egestas pretium aenean. Senectus et netus et malesuada fames ac turpis. Mattis molestie a iaculis at erat pellentesque. In ante metus dictum at tempor commodo. Arcu non sodales neque sodales. Quis ipsum suspendisse ultrices gravida dictum. Vehicula ipsum a arcu cursus vitae congue. Purus gravida quis blandit turpis.</p>

        <script type="module" src="https://sdk.andrey.apester.dev/web-sdk.core.min.js"></script>
        <script nomodule src="https://sdk.andrey.apester.dev/web-sdk.core.legacy.min.js" async></script>
     
       </div>
       <script>
        let width = document.getElementById("input-width").value;
        const apesterMediaElement = document.querySelector('.apester-media');
        function apply() {
          if (width !== document.getElementById("input-width").value) {
            width = document.getElementById("input-width").value;
           
            document.querySelector('.wrap').style.width = document.getElementById("input-width").value + 'px';
            apesterMediaElement.innerHTML = '';
            apesterMediaElement.setAttribute('data-media-id', document.getElementById("input-interaction").value);
            window.APESTER.apesterElements = [];
            window.APESTER.reload();
          } else {
            const sizes = window.getVideoAdSize(apesterMediaElement, true);
            console.warn('sizes', sizes);
            console.warn('apesterPlayer', window.apesterPlayer);
            window.apesterPlayer.resize(sizes);
        }
      </script>
    </div>
  </body>
</html>
